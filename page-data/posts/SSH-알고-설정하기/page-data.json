{"componentChunkName":"component---src-templates-post-template-post-template-tsx","path":"/posts/SSH-알고-설정하기","result":{"data":{"markdownRemark":{"id":"8ac2478e-95dd-543a-ac6d-dfef4049e0b0","html":"<h2 id=\"sshsecured-shell\" style=\"position:relative;\"><a href=\"#sshsecured-shell\" aria-label=\"sshsecured shell permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SSH(Secured SHell)</h2>\n<p>SSH는 보안되지 않은 네트워크에서 시스템 관리 및 파일 전송을 안전하게 만들어주는 소프트웨어 패키지로 SSH protocol을 통해 클라이언트와 서버간의 안전한 연결을 위한 암호화 쌍을 만들어 낸다.</p>\n<ul>\n<li>Shell(쉘): 명령어와 프로그램을 사용할 때 쓰는 인터페이스. 커널과 사용자 간의 다리 역할을 하는 것으로, 사용자로부터 명령을 받아 그것을 해석하고 실행함. 흔히 검은 바탕에 흰 글자가 나오는 명령어 입력 환경</li>\n<li>기존 원격 접속은 ‘텔넷(Telnet)’이라는 방식을 사용했는데, 암호화를 제공하지 않기 때문에 보안상 취약하다는 단점이 있었음. 때문에 이를 암호화하는 SSH 기술이 등장했고, 현재 원격 접속 보안을 위한 필수적인 요소로 자리잡았음. 클라우드 서비스에서 제공하는 서버는 서버 생성시 필수적으로 SSH 보안 과정을 거치게 되어 있음</li>\n</ul>\n<h2 id=\"작동원리\" style=\"position:relative;\"><a href=\"#%EC%9E%91%EB%8F%99%EC%9B%90%EB%A6%AC\" aria-label=\"작동원리 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>작동원리</h2>\n<p>SSH를 구성하는 핵심은 ‘KEY(키)’. 사용자(클라이언트)와 서버(호스트)는 각각의 키를 보유하고 있으며, 이 키를 이용해 연결 상대를 인증하고 안전하게 데이터를 주고 받게 된다.</p>\n<h3 id=\"키-생성-방식\" style=\"position:relative;\"><a href=\"#%ED%82%A4-%EC%83%9D%EC%84%B1-%EB%B0%A9%EC%8B%9D\" aria-label=\"키 생성 방식 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>키 생성 방식</h3>\n<p><strong>1) 비대칭키 방식 (공개키 암호화 방식) (Asymmetric Encryption)</strong></p>\n<p>암복호화에 사용하는 키가 서로 다른 암호화 방식. 공개 키와 개인 키를 암호화, 복호화에 적용하여 암복호화 하는 것을 의미</p>\n<p>비대칭키 방식에서는 서버 또는 사용자가 공개 키(.pub)와 개인 키(.pem)의 두 가지로 이루어진 Key Pair(키 페어, 키 쌍)를 생성함.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/8b301310cce7697f3d85992a25cb03ef/3fca6/image1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 49.583333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABsUlEQVQoz21SzU7CQBDm+Uj0wJU34BnkpAcOXggJj6CPwMETfxqtKdECFqU/INjtQreWltgC7Wd2lYLgNM3M7ux8M9+3m8GeJUkifm6MMRiGgfHoHZRQ2OQD4/FY7Pm+n54/tMwOaAfIvyAIwBwGm06g6iqMyQwuc+A4DsIwPBrgH8BdcrOOEUWRiD/mT7i8usT1zatYR1F4xGhbx31mvwOPFwsf5mSAr+iHFqEm2vIdVN3+aUA/oY0sROEXDuVKJ9xsNlitVmKD2nMob7f49Omvli5mdAbHmYu1QRa4k1/AnBniJBF1fyaM41iIrSgKut0ulsslXNdNO0uShEajgfv7B1BKQQhJc6ZpQlVVdDqd3YQckCd6vZ4ozufzyGazqFQqqFareJQk6JoOXdeRy+VwcnKKi/NzlMtlyLKMwWCAfr+fap7hdPlTGA6HArRYLKJQKKBWq6HZbKLdaqHdauP5WUGpVMLZWRH1eh0dWRbnt7XbmxcachqmOYJt20fvStM0IQf3h2ZZlpCLe840BfQ8D9PpFH4QiE2eXK/XInYZA7EIPG+R5jir/brAD9JL+QZ17OaVud5b9QAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/8b301310cce7697f3d85992a25cb03ef/8ac56/image1.webp 240w,\n/static/8b301310cce7697f3d85992a25cb03ef/d3be9/image1.webp 480w,\n/static/8b301310cce7697f3d85992a25cb03ef/e46b2/image1.webp 960w,\n/static/8b301310cce7697f3d85992a25cb03ef/01adf/image1.webp 1112w\"\n              sizes=\"(max-width: 960px) 100vw, 960px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/8b301310cce7697f3d85992a25cb03ef/8ff5a/image1.png 240w,\n/static/8b301310cce7697f3d85992a25cb03ef/e85cb/image1.png 480w,\n/static/8b301310cce7697f3d85992a25cb03ef/d9199/image1.png 960w,\n/static/8b301310cce7697f3d85992a25cb03ef/3fca6/image1.png 1112w\"\n            sizes=\"(max-width: 960px) 100vw, 960px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/8b301310cce7697f3d85992a25cb03ef/d9199/image1.png\"\n            alt=\"image1.png\"\n            title=\"image1.png\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<ul>\n<li>사용자의 공개 키를 암호화해 서버에 전송 (*공개 키는 전송과정에서 유출되어도 크게 문제가 되지 않음. )</li>\n<li>서버는 공개 키를 받아서, 이 공개 키로 만들어진 랜덤한 값을 생성하고 사용자에게 전송. (사용자가 올바른 키 페어를 가지고 있는지 확인하는 과정)</li>\n<li>사용자는 개인 키를 이용해 서버로부터 전달받은 값을 풀어내 다시 서버에 전송</li>\n<li>서버는 사용자로부터 전송받은 값을 자신이 처음에 낸 값과 비교. 두 값이 같게 되면 서버는 “이 사용자는 내 공개 키에 대응하는 올바른 개인 키를 보유하고 있으니, 내가 아는 사용자가 맞다!” 라고 판단하고 접속을 허용해줌\n<ul>\n<li>오직 키 페어 생성 시 함께 생성된 개인 키와 공개 키만 서로 해석이 가능하고, 다른 공개 키나 개인 키를 이용해서 풀어낼 수 없음</li>\n<li>공개키는 누구나 알 수 있지만, 그에 대응하는 비밀키는 키의 소유자만이 알 수 있어서 특정한 비밀키를 가지는 사용자만이 내용을 열어볼 수 있도록 하는 방식.</li>\n</ul>\n</li>\n<li>암호화할 때의 키는 공개키(public key), 복호화할 때의 키는 개인키(private key) 사용</li>\n<li>공개키로 암호화한 메세지는 수신자의 개인키로만 해독할 수 있으므로 안전성이 높지만, 대칭키 알고리즘에 비해 속도가 느림</li>\n</ul>\n<p><strong>2) 대칭키 방식 (Symmetric Encryption)</strong>\n암복호화에 사용하는 키가 동일한 암호화 방식</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/f4fbe66bdb775d615ae0410105957a01/9937c/image2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 48.75000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAABYlAAAWJQFJUiTwAAABr0lEQVQoz21SO3LiQBDVXbiFfQZ8GyKOwAUo2IyUYEMCqkhIFlZ4sV0CgdAPfVhJFgIkjH68rWlbsqB2kpnpfvO6573mUFnX65X2PM+haRokScJ2q8PZWdB1HavVCoZhlNgCX11clagAZVmOMAwRno4wbBdz0cDHOUIQHCheJbsn5YpkNZGlF1wuMZ2XmovOz9/sKeI4Rp7GNz+6J+eq7EkSQ9N1jP/IZczeOXgTlYICv15VSLKKNEnwP7mow+PxiP1+jyRJ6Pwi/S219DwPnuvgfD5/dezBtHZUPDgcEATBDSnHNJFlGTzPQxAEiKKInW0SwHVdjMdj8PwMs+dnTCYTKLJEOd/3sVwuKcYMvCFUVZUq9ft91Go11Ot1NJtN/Oh2MRqNIAgL9Ho9PDw8ov70hEajgW6nA8uyyPWq81wURdShaZqYz+dotVoYDAZUYLPZYMbPsF6vMZ1O0W63MRwOEYUhkbE4Gyfbtr8JmU6fM7bG6XS6ETpNU/rWYrFA9KVhOQlZBkVRqGjxrnSZ6eE4LpnCCjDw5zxmpKPv78kUdi9yDOe/+/C8d4oVhP8AZozp1hUL8/sAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/f4fbe66bdb775d615ae0410105957a01/8ac56/image2.webp 240w,\n/static/f4fbe66bdb775d615ae0410105957a01/d3be9/image2.webp 480w,\n/static/f4fbe66bdb775d615ae0410105957a01/e46b2/image2.webp 960w,\n/static/f4fbe66bdb775d615ae0410105957a01/df6ba/image2.webp 1156w\"\n              sizes=\"(max-width: 960px) 100vw, 960px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/f4fbe66bdb775d615ae0410105957a01/8ff5a/image2.png 240w,\n/static/f4fbe66bdb775d615ae0410105957a01/e85cb/image2.png 480w,\n/static/f4fbe66bdb775d615ae0410105957a01/d9199/image2.png 960w,\n/static/f4fbe66bdb775d615ae0410105957a01/9937c/image2.png 1156w\"\n            sizes=\"(max-width: 960px) 100vw, 960px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/f4fbe66bdb775d615ae0410105957a01/d9199/image2.png\"\n            alt=\"image2.png\"\n            title=\"image2.png\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<ul>\n<li>대칭키 방식에서는 비대칭키 방식과 달리 한 개의 키만을 사용함.</li>\n<li>사용자 또는 서버는 하나의 대칭 키를 만들어 서로 공유. 공유된 대칭 키를 이용해 정보를 암호화하면, 받은 쪽에서 동일한 대칭 키로 암호를 풀어 정보를 습득하게 됨.</li>\n<li>정보 교환이 완료되면 교환 당시 썼던 대칭 키는 폐기되고, 나중에 다시 접속할 때마다 새로운 대칭 키를 생성하여 사용하게 됨</li>\n<li>비대칭키 방식에 비해 속도가 빠르지만, 대칭키 전달 과정에서 해킹 위험에 노출될 수 있음</li>\n</ul>\n<p>⇒ 대칭 키와 비대칭 키 방식을 혼합하여 사용하는 경우가 많음</p>\n<p>ex) 대칭 키를 주고받을 때만 공개키 암호화 방식(비대칭)을 사용하고 이후에는 계속 대칭키 암호화 방식으로 통신한다.</p>\n<h2 id=\"ssh-key-생성\" style=\"position:relative;\"><a href=\"#ssh-key-%EC%83%9D%EC%84%B1\" aria-label=\"ssh key 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SSH key 생성</h2>\n<h4 id=\"ssh-key-확인\" style=\"position:relative;\"><a href=\"#ssh-key-%ED%99%95%EC%9D%B8\" aria-label=\"ssh key 확인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SSH key 확인</h4>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\">cat <span class=\"token operator\">~</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>ssh<span class=\"token operator\">/</span>id_rsa<span class=\"token punctuation\">.</span>pub\nor\nls <span class=\"token operator\">-</span>al <span class=\"token operator\">~</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>ssh</code></pre></div>\n<h4 id=\"ssh-key-생성-1\" style=\"position:relative;\"><a href=\"#ssh-key-%EC%83%9D%EC%84%B1-1\" aria-label=\"ssh key 생성 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SSH key 생성</h4>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\">ssh<span class=\"token operator\">-</span>keygen</code></pre></div>\n<ul>\n<li>id_rsa - 비공개키(Private Key), id_rsa.pub - 공개키(Public Key) 페어 생성</li>\n</ul>\n<h2 id=\"public-key-설정\" style=\"position:relative;\"><a href=\"#public-key-%EC%84%A4%EC%A0%95\" aria-label=\"public key 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>public key 설정</h2>\n<ul>\n<li>키 내용 복사</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\">cat <span class=\"token operator\">~</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>ssh<span class=\"token operator\">/</span>my_ssh_key<span class=\"token punctuation\">.</span>pub</code></pre></div>\n<ul>\n<li>서버 접속, <code class=\"language-text\">~/.ssh/authorized_keys</code>에 복사한 키값을 추가</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\">cat <span class=\"token operator\">>></span> <span class=\"token operator\">~</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>ssh<span class=\"token operator\">/</span>authorized_keys\n<span class=\"token operator\">-></span> 공개키 붙여 넣고<span class=\"token punctuation\">,</span> 줄바꿈 <span class=\"token operator\">-></span> Ctrl <span class=\"token operator\">+</span> <span class=\"token function\">D</span> <span class=\"token punctuation\">(</span>저장<span class=\"token punctuation\">)</span></code></pre></div>\n<ul>\n<li>로컬에서 ssh 접속</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token operator\">~</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>ssh  ssh <span class=\"token operator\">-</span>i <span class=\"token punctuation\">[</span>private key name<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>Username<span class=\"token punctuation\">]</span>@<span class=\"token punctuation\">[</span>Server IP address<span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span>p <span class=\"token punctuation\">[</span>port number<span class=\"token punctuation\">]</span>\nEnter passphrase <span class=\"token keyword\">for</span> key <span class=\"token char\">'/Users/ssun/.ssh/my_ssh_key'</span><span class=\"token operator\">:</span> #ssh key 비밀번호 입력\nWelcome to Ubuntu <span class=\"token number\">18.04</span><span class=\"token number\">.4</span> <span class=\"token function\">LTS</span> <span class=\"token punctuation\">(</span>GNU<span class=\"token operator\">/</span>Linux <span class=\"token number\">4.15</span><span class=\"token number\">.0</span><span class=\"token operator\">-</span><span class=\"token number\">1065</span><span class=\"token operator\">-</span>aws x86_64<span class=\"token punctuation\">)</span></code></pre></div>\n<h2 id=\"ssh-config-설정\" style=\"position:relative;\"><a href=\"#ssh-config-%EC%84%A4%EC%A0%95\" aria-label=\"ssh config 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>SSH Config 설정</h2>\n<ul>\n<li>SSH 접속 정보를 Config로 등록해두면 Host name으로 간편하게 SSH 접속을 할 수 있음</li>\n</ul>\n<ol>\n<li>config 파일 접근</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\">vi <span class=\"token operator\">~</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>ssh<span class=\"token operator\">/</span>config</code></pre></div>\n<ol start=\"2\">\n<li>설정</li>\n</ol>\n<ul>\n<li>일반 서버 접속 설정 (SSH Public Key 사용하는 경우)</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\">Host syfWebFrontTest\n    HostName <span class=\"token number\">10.71</span><span class=\"token number\">.100</span><span class=\"token number\">.80</span> or syf<span class=\"token operator\">-</span>web<span class=\"token operator\">-</span>front<span class=\"token operator\">-</span><span class=\"token number\">0</span>\n    User www\n    IdentityFile <span class=\"token operator\">~</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>ssh<span class=\"token operator\">/</span>id_rsa\n    PubkeyAcceptedKeyTypes <span class=\"token operator\">+</span>ssh<span class=\"token operator\">-</span>rsa</code></pre></div>\n<ul>\n<li>설정 옵션\n<ul>\n<li>Host : SSH 명령에 사용할 이름</li>\n<li>Hostname : Host에 지정된 이름이 매핑되는 실제 호스트명</li>\n<li>User : 네트워크 커넥션에 사용되는 계정명</li>\n<li>Port : 연결할 서버의 포트번호 (기본값: 22)</li>\n<li>IdentitiFile : 연결 시 사용할 키의 위치 (기본 값은 프로토콜에 따라 결정)</li>\n</ul>\n</li>\n</ul>\n<ol start=\"3\">\n<li>권한 설정 (필요시)</li>\n</ol>\n<ul>\n<li>파일 소유권자만이 설정 파일을 읽을 수 있도록 제한</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\">chmod <span class=\"token number\">440</span> <span class=\"token operator\">~</span><span class=\"token operator\">/</span><span class=\"token punctuation\">.</span>ssh<span class=\"token operator\">/</span>config</code></pre></div>\n<ol start=\"4\">\n<li>서버 접속</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\">ssh syfWebFrontTest</code></pre></div>\n<h2 id=\"서버-접속\" style=\"position:relative;\"><a href=\"#%EC%84%9C%EB%B2%84-%EC%A0%91%EC%86%8D\" aria-label=\"서버 접속 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>서버 접속</h2>\n<ul>\n<li>config 설정 hostname 혹은 서버 주소로 접속</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\">$ ssh <span class=\"token punctuation\">[</span>USER<span class=\"token punctuation\">]</span>@<span class=\"token punctuation\">[</span>HOSTNAME<span class=\"token punctuation\">]</span> <span class=\"token operator\">-</span>p <span class=\"token punctuation\">[</span>PORT<span class=\"token punctuation\">]</span></code></pre></div>\n<ul>\n<li>USER : 계정</li>\n<li>HOSTNAME : IP 또는 호스트네임</li>\n<li>PORT : SSH 포트 (기본값 22일 경우 생략 가능)</li>\n</ul>\n<h3 id=\"cf-젠킨스-서버에-ssh-키-등록하기\" style=\"position:relative;\"><a href=\"#cf-%EC%A0%A0%ED%82%A8%EC%8A%A4-%EC%84%9C%EB%B2%84%EC%97%90-ssh-%ED%82%A4-%EB%93%B1%EB%A1%9D%ED%95%98%EA%B8%B0\" aria-label=\"cf 젠킨스 서버에 ssh 키 등록하기 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>/cf/ 젠킨스 서버에 SSH 키 등록하기</h3>\n<p>Dashboard → 환경설정 → Publish over SSH</p>\n<ul>\n<li>Jenkins SSH Key 등록\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/9d3073eee8f7d9f23ff3e5af1ce1c7a1/21335/image3.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 31.25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAjUlEQVQY052QSQ7DMAwD/f/PxkAWGxJpFszSQ3NIWwI8yAaGlEpmapomzfOsMcbfjoTAoQJAtVaRlIUMYduEbRUy5f8nD1J17WoBFYPc0nKSZyLF1sTMY37wGNTaQ5FUMcTAq/qeSt4Nno3u74Z6ZV4rL8uyw6zWu+IM+KadIWb0yOOG+tDV9Bcl8D7bC+/92pvbgX57AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/9d3073eee8f7d9f23ff3e5af1ce1c7a1/8ac56/image3.webp 240w,\n/static/9d3073eee8f7d9f23ff3e5af1ce1c7a1/d3be9/image3.webp 480w,\n/static/9d3073eee8f7d9f23ff3e5af1ce1c7a1/e46b2/image3.webp 960w,\n/static/9d3073eee8f7d9f23ff3e5af1ce1c7a1/6fed8/image3.webp 1082w\"\n              sizes=\"(max-width: 960px) 100vw, 960px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/9d3073eee8f7d9f23ff3e5af1ce1c7a1/8ff5a/image3.png 240w,\n/static/9d3073eee8f7d9f23ff3e5af1ce1c7a1/e85cb/image3.png 480w,\n/static/9d3073eee8f7d9f23ff3e5af1ce1c7a1/d9199/image3.png 960w,\n/static/9d3073eee8f7d9f23ff3e5af1ce1c7a1/21335/image3.png 1082w\"\n            sizes=\"(max-width: 960px) 100vw, 960px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/9d3073eee8f7d9f23ff3e5af1ce1c7a1/d9199/image3.png\"\n            alt=\"image3.png\"\n            title=\"image3.png\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></li>\n<li>SSH Server 생성 후 Test Configuration, Success 뜨면 성공\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 838px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/78f6f36c284eb8181997fd060a5fb0d2/a1dd2/image4.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 59.166666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAAAsTAAALEwEAmpwYAAAA4klEQVQoz6WS607EIBSEeXxdX0YTs0+kidtQrFAuB0pnM+w2qfqn6CSTJoQO3xxQzjmM44hlWfBfeSlQ3ntorRFjRAihWURQa22HHHWtC7QNUDnnFkhShs3zjJQS1nVtofwetU8Zij8PwwCSknIL6aG7EVYYF6FYj4TW2kZXSumi2tvFO6Expi1QvWT7GU4+QrEmAzlD0v6VjrZBbpUZtgVyFr0mIQMnn6D272i72R7jPipJCUUE6if2UW17RTLM54R366Al/w7sMZVE8GUd3p5fcHk9f6/cq32jy+MTPh5OuAIQVLAcs6pVLwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/78f6f36c284eb8181997fd060a5fb0d2/8ac56/image4.webp 240w,\n/static/78f6f36c284eb8181997fd060a5fb0d2/d3be9/image4.webp 480w,\n/static/78f6f36c284eb8181997fd060a5fb0d2/7820a/image4.webp 838w\"\n              sizes=\"(max-width: 838px) 100vw, 838px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/78f6f36c284eb8181997fd060a5fb0d2/8ff5a/image4.png 240w,\n/static/78f6f36c284eb8181997fd060a5fb0d2/e85cb/image4.png 480w,\n/static/78f6f36c284eb8181997fd060a5fb0d2/a1dd2/image4.png 838w\"\n            sizes=\"(max-width: 838px) 100vw, 838px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/78f6f36c284eb8181997fd060a5fb0d2/a1dd2/image4.png\"\n            alt=\"image4.png\"\n            title=\"image4.png\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span>\n⇒ 젠킨스 프로젝트 설정시 등록한 서버로 요청</li>\n</ul>\n<h3 id=\"cf-ssh-키-삭제\" style=\"position:relative;\"><a href=\"#cf-ssh-%ED%82%A4-%EC%82%AD%EC%A0%9C\" aria-label=\"cf ssh 키 삭제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>/cf/ SSH 키 삭제</h3>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token punctuation\">[</span>www@syf<span class=\"token operator\">-</span>web<span class=\"token operator\">-</span>front<span class=\"token operator\">-</span><span class=\"token number\">0</span> <span class=\"token operator\">~</span><span class=\"token punctuation\">]</span>$ cd <span class=\"token punctuation\">.</span>ssh\n<span class=\"token punctuation\">[</span>www@syf<span class=\"token operator\">-</span>web<span class=\"token operator\">-</span>front<span class=\"token operator\">-</span><span class=\"token number\">0</span> <span class=\"token punctuation\">.</span>ssh<span class=\"token punctuation\">]</span>$ ll\n합계 <span class=\"token number\">12</span>\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span> <span class=\"token number\">1</span> www www <span class=\"token number\">6317</span>  <span class=\"token number\">8</span>월  <span class=\"token number\">3</span> <span class=\"token number\">17</span><span class=\"token operator\">:</span><span class=\"token number\">32</span> authorized_keys\n<span class=\"token operator\">-</span>rw<span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">--</span><span class=\"token operator\">-</span> <span class=\"token number\">1</span> www www <span class=\"token number\">1675</span>  <span class=\"token number\">7</span>월 <span class=\"token number\">21</span> <span class=\"token number\">15</span><span class=\"token operator\">:</span><span class=\"token number\">03</span> www<span class=\"token operator\">-</span>nopass\n<span class=\"token punctuation\">[</span>www@syf<span class=\"token operator\">-</span>web<span class=\"token operator\">-</span>front<span class=\"token operator\">-</span><span class=\"token number\">0</span> <span class=\"token punctuation\">.</span>ssh<span class=\"token punctuation\">]</span>$ vi authorized_keys</code></pre></div>\n<ul>\n<li>삭제 원하는 줄 dd + 저장(ctrl D) + wq!</li>\n</ul>","fields":{"slug":"/posts/2023-10-08---SSH-알고-설정하기//posts/SSH-알고-설정하기","tagSlugs":["/tag/ssh/","/tag//"]},"frontmatter":{"date":"2022-10-08T22:40:32.169Z","description":"SSH는 보안되지 않은 네트워크에서 시스템 관리 및 파일 전송을 안전하게 만들어주는 소프트웨어 패키지로 SSH protocol을 통해 클라이언트와 서버간의 안전한 연결을 위한 암호화 쌍을 만들어 낸다.","tags":["SSH","암호화"],"title":"SSH 알고 설정하기","socialImage":{"publicURL":"/static/8b301310cce7697f3d85992a25cb03ef/image1.png"}}}},"pageContext":{"slug":"/posts/2023-10-08---SSH-알고-설정하기//posts/SSH-알고-설정하기"}},"staticQueryHashes":["250566491","251939775","401334301"]}