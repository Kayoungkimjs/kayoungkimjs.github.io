{"componentChunkName":"component---src-templates-post-template-post-template-tsx","path":"/posts/Next.js-13-버전-업데이트-사항","result":{"data":{"markdownRemark":{"id":"0b754ec1-990d-5bcc-931d-f4a2e872bd96","html":"<blockquote>\n<p>2022년 10월 26일 Next.js Conf에서 13버전을 발표했다. 2023년 5월 13.4 버전이 릴리즈 되었고, Turbopack(Beta)를 제외, App Router는 안정화(Stable)되었다고 한다.</p>\n<p>현재, 기존 12 버전과 호환 가능하지만, 12.X 버전은 더이상 업데이트를 지원하지 않고, 13 버전을 사용할 것을 권장하고 있다. (하지만 개발 커뮤니티에서는 프로젝트를 돌릴 만큼 안정적이지 않다고..)</p>\n</blockquote>\n<h2 id=\"주요-변경사항\" style=\"position:relative;\"><a href=\"#%EC%A3%BC%EC%9A%94-%EB%B3%80%EA%B2%BD%EC%82%AC%ED%95%AD\" aria-label=\"주요 변경사항 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>주요 변경사항</h2>\n<ul>\n<li>최소 요구 리액트 버전 17.0.2 → 18.2.0</li>\n<li>최소 요구 Node.js 버전 12.22.0 → 14.6.0</li>\n</ul>\n<h3 id=\"app-디렉토리-새로운-app-router-제공\" style=\"position:relative;\"><a href=\"#app-%EB%94%94%EB%A0%89%ED%86%A0%EB%A6%AC-%EC%83%88%EB%A1%9C%EC%9A%B4-app-router-%EC%A0%9C%EA%B3%B5\" aria-label=\"app 디렉토리 새로운 app router 제공 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>app 디렉토리, 새로운 App Router 제공</h3>\n<ul>\n<li>기존의 Next.js에서는 Automatic Routing을 사용할 때, pages 디렉토리 안에 파일을 생성하여 별도의 라우터 없이도 애플리케이션 내부에서 즉시 경로를 생성할 수 있었지만, 13버전부터는 <code class=\"language-text\">app/</code>이라는 새로운 디렉토리로 라우팅 및 레이아웃 기능을 개선함.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/803c10b7ff90528f6226777b3f900491/4a00e/image1.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 38.75%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAA7UlEQVQoz3WSS27EIBBEff97RTnBbKIoi1k4kcdfoBuwLVVUbSORiWdRavr3gIZm33ds2/ZHVzFqXVfknJFSMlvXMsd1Q4fJWqp6KeecwdhI6723WIzRfLKasmstEYXGiBACRMQsgcyN42gQrud5tlw59UtgjIqcIlJUrPSVQLGmruvQtq2BCFyW5RhBDWQgnifyLHSCxyyYnMAHxWM6rEiw0xHCWvaU66ZnoGrEMAzo+x5fPwHvnx63+4L794S3D4duDFjz8RhXt/oHTOdulHBmwWM652X+eeWiAqlFVlOe/Oqb5Fzir79RLX6bX/jgbhfdeq0/AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/803c10b7ff90528f6226777b3f900491/8ac56/image1.webp 240w,\n/static/803c10b7ff90528f6226777b3f900491/d3be9/image1.webp 480w,\n/static/803c10b7ff90528f6226777b3f900491/e46b2/image1.webp 960w,\n/static/803c10b7ff90528f6226777b3f900491/05352/image1.webp 1406w\"\n              sizes=\"(max-width: 960px) 100vw, 960px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/803c10b7ff90528f6226777b3f900491/8ff5a/image1.png 240w,\n/static/803c10b7ff90528f6226777b3f900491/e85cb/image1.png 480w,\n/static/803c10b7ff90528f6226777b3f900491/d9199/image1.png 960w,\n/static/803c10b7ff90528f6226777b3f900491/4a00e/image1.png 1406w\"\n            sizes=\"(max-width: 960px) 100vw, 960px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/803c10b7ff90528f6226777b3f900491/d9199/image1.png\"\n            alt=\"image1.png\"\n            title=\"image1.png\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></li>\n<li><strong>Layout</strong>\n<ul>\n<li>여러 페이지 간에 네비게이션 바와 같은 공통적인 UI를 공유하여 불필요한 리렌더링을 방지하고, 컴포넌트간의 상호 작용을 구현할 수 있음</li>\n</ul>\n</li>\n<li>Next.js 13의 Routing은 app 디렉토리 안에서 진행되는데 이때, page.js 라는 단일 파일을 생성해야만 사용할 수 있음\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e9a3866d7819b54b486766a1edef96bd/daed9/image2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 38.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAYAAAD5nd/tAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAuElEQVQoz5VSiwqDMBDz//9z8wHO2l7fYsbdOBHpHBMCmktCvbSrtaKFUgpyzoKU0gHmW2APP52armCz9x7OORFv2yZG5nR+1vJs33d058EZMUYRERHmeRaOvx3R/4HMWWuPX388nyByeNkEYwmlof8SmA6BMebY4zAM8J4QQoRz1DzAzxPy7vS973ssyyKhyt8GtsBGLiCEgGmaMI4j1nWVnV6bl8CcP4Fa+fUKMLQcNWlR9ebavAEHf3CACJoHUQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/e9a3866d7819b54b486766a1edef96bd/8ac56/image2.webp 240w,\n/static/e9a3866d7819b54b486766a1edef96bd/d3be9/image2.webp 480w,\n/static/e9a3866d7819b54b486766a1edef96bd/e46b2/image2.webp 960w,\n/static/e9a3866d7819b54b486766a1edef96bd/52cea/image2.webp 1426w\"\n              sizes=\"(max-width: 960px) 100vw, 960px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/e9a3866d7819b54b486766a1edef96bd/8ff5a/image2.png 240w,\n/static/e9a3866d7819b54b486766a1edef96bd/e85cb/image2.png 480w,\n/static/e9a3866d7819b54b486766a1edef96bd/d9199/image2.png 960w,\n/static/e9a3866d7819b54b486766a1edef96bd/daed9/image2.png 1426w\"\n            sizes=\"(max-width: 960px) 100vw, 960px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/e9a3866d7819b54b486766a1edef96bd/d9199/image2.png\"\n            alt=\"image2.png\"\n            title=\"image2.png\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></li>\n<li><strong>React Server Component</strong>\n<ul>\n<li>app 디렉토리에서 리액트 서버 컴포넌트를 사용하여 서버에서만 컴포넌트를 렌더링하고 클라이언트에 전송되는 자바스크립트의 양을 줄여 초기 페이지 로딩을 더 빠르게 수행할 수 있음</li>\n</ul>\n</li>\n<li><strong>Streaming</strong>\n<ul>\n<li>app 디렉토리에서 loading.js라는 예약 파일을 생성하여 사용자가 렌더링이 되기 이전에 로딩 중인 화면을 표시할 수 있는 기능</li>\n</ul>\n</li>\n<li><strong>Data Fetching</strong>\n<ul>\n<li>이전 버전에서는 데이터를 fetching 해 올때, getServerSideProps나 getStaticProps를 통해 데이터를 가져왔지만, 13부터는 이 문법들을 사용하지 않음</li>\n</ul>\n</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span>use<span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">getData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> res <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">fetch</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"https://cocone-m/com/todo\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> res<span class=\"token punctuation\">.</span><span class=\"token function\">json</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> data<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Page</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> data <span class=\"token operator\">=</span> <span class=\"token function\">use</span><span class=\"token punctuation\">(</span><span class=\"token function\">getData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token keyword\">return</span> <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>위와 같이 함수를 선언한 뒤에, use() 안에 넣어줌. 추가적으로, fetch 구문의 URL 뒤에 { cache: ” } 를 넣어줄 수 있는데, 속성에 따라 기존의 getServerSideProps, getStaticProps와 유사한 기능을 할 수 있음</p>\n<ul>\n<li><strong>Turbopack (beta)</strong>\n<ul>\n<li>기존의 웹팩보다 700배, Vite보다 10배 빠르게 JavaScript를 필요한 파일로 컴파일해주는 번들링 툴</li>\n</ul>\n</li>\n<li><strong><code class=\"language-text\">next/image</code></strong>\n<ul>\n<li>Image 컴포넌트를 통해서 이미지 파일을 넣으면 이미지가 자동으로 최적화됨. *이미지 최적화 : 이미지 로드가 느릴 경우에 기존의 레이아웃이 밀려나는 현상인 Layout Shift가 발생하는데, 이를 방지하기 위해 이미지의 width와 height를 설정함. 최신 버전에서는 이를 자동으로 처리함 <code class=\"language-text\">alt</code> 속성을 필수로 설정해야해서 웹 접근성 향상됨</li>\n</ul>\n</li>\n<li><strong><code class=\"language-text\">next/font</code></strong>\n<ul>\n<li>자동으로 Layout Shift가 방지되고, <strong>구글 폰트가 내장</strong>되어 브라우저에서 구글 폰트 요청을 별도로 하지 않아도 사용할 수 있음</li>\n</ul>\n</li>\n<li><strong><code class=\"language-text\">next/link</code></strong>\n<ul>\n<li><code class=\"language-text\">&lt;Link></code> 태그를 사용하려면 <code class=\"language-text\">&lt;a></code> 태그를 필요로 했던 이전 버전과는 달리, <code class=\"language-text\">&lt;a></code> 태그를 더이상 자식 요소로 필요하지 않음. 그렇기 때문에 기본 태그에도 props를 전달할 수 있게 됨</li>\n</ul>\n</li>\n<li><strong><code class=\"language-text\">OG Image</code></strong>\n<ul>\n<li>링크를 첨부시 링크와 연관된 이미지가 같이 뜨는 것으로 콘텐츠 클릭의 참여를 높여줌. 신버전에서 동적 소셜카드를 새로 생성하는 라이브러리인 <code class=\"language-text\">@vercel/og</code>를 도입함</li>\n</ul>\n</li>\n<li><a href=\"https://nextjs.org/blog/next-13-3\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">기타 변경사항</a></li>\n</ul>","fields":{"slug":"/posts/2023-29-06---Next.js-13-버전-업데이트-사항//posts/Next.js-13-버전-업데이트-사항","tagSlugs":["/tag/nextjs/","/tag/ssr/"]},"frontmatter":{"date":"2023-06-29T22:40:32.169Z","description":"Next.js이 13으로 업데이트 하면서 추가, 변경된 사항들(새로운 프로젝트를 앞두고...)","tags":["Next.js","SSR"],"title":"Next.js 13 버전 업데이트 사항","socialImage":{"publicURL":"/static/803c10b7ff90528f6226777b3f900491/image1.png"}}}},"pageContext":{"slug":"/posts/2023-29-06---Next.js-13-버전-업데이트-사항//posts/Next.js-13-버전-업데이트-사항"}},"staticQueryHashes":["250566491","251939775","401334301"]}