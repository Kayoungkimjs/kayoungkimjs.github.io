{"componentChunkName":"component---src-templates-post-template-post-template-tsx","path":"/posts/언젠가-만나게-될-Redux","result":{"data":{"markdownRemark":{"id":"a76cae16-b58f-5ed5-9716-f4ac27b5d7c0","html":"<h2 id=\"redux-개념\" style=\"position:relative;\"><a href=\"#redux-%EA%B0%9C%EB%85%90\" aria-label=\"redux 개념 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Redux 개념</h2>\n<ul>\n<li>애플리케이션 규모가 커지면 데이터의 흐름이 복잡해지기 때문에 <strong>*애플리케이션 단위의 상태관리</strong>(application level state management)가 필요함</li>\n</ul>\n<ul>\n<li>애플리케이션 상태관리란?\n앱 수준의 상태를 자유롭게 구성하고 상태 일부분에 변화가 생기면 이를 즉각 반영하여 해당 컴포넌트를 재렌더링하게 하는 기능</li>\n</ul>\n<ul>\n<li>리덕스란 자바스크립트 상태관리 라이브러리로 Flux(앱 설계 규격중 하나)를 준수한다.</li>\n<li>리덕스 라이브러리\n<ul>\n<li>redux: 리덕스 모듈</li>\n<li>react-redux: 리액트 컴포넌트에서 리덕스를 사용하기 위한 유용한 도구 모음</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"redux-규칙\" style=\"position:relative;\"><a href=\"#redux-%EA%B7%9C%EC%B9%99\" aria-label=\"redux 규칙 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Redux 규칙</h2>\n<ul>\n<li>나의 애플리케이션 안에 하나의 스토어 생성</li>\n<li>상태는 읽기 전용(read-only)\n<ul>\n<li>리액트에서 setState를 사용해 업데이트, concat 같은 함수를 사용하여 기존의 배열은 수정하지 않고 새로운 배열을 만들어서 교체하는 방식으로 업데이트를 하는 것처럼 리덕스에서도 기존의 상태는 건들이지 않고 새로운 상태를 생성하여 업데이트 해주는 방식을 권장</li>\n<li><strong>리덕스에서는 action, dispatch를 이용해 상태를 수정</strong>한다</li>\n</ul>\n</li>\n<li>변화를 일으키는 함수, reducer는 순수한 함수\n<ul>\n<li>리듀서 함수는 이전 상태와, 액션 객체를 파라미터로 받는다.</li>\n<li>이전의 상태는 절대로 건들이지 않고, 변화를 일으킨 새로운 상태 객체를 만들어서 반환한다.</li>\n<li>똑같은 파라미터로 호출된 리듀서 함수는 항상 똑같은 결과값을 반환한다.</li>\n</ul>\n</li>\n</ul>\n<h2 id=\"core-principles-of-redux\" style=\"position:relative;\"><a href=\"#core-principles-of-redux\" aria-label=\"core principles of redux permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Core Principles of Redux</h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 960px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/02625d1a5246e932bea12cdf0e66eee3/8740f/image.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 53.333333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAABYlAAAWJQFJUiTwAAABxUlEQVQoz3VTi46bMBDM/3/a9XFNLiSBGAh58/YLAzYwlZ0euV57I41kr7S74/XsYvczBVll2K8ykFXuGK6LJ9+ejNYliDtXjvtlPufsfqQwesDiEjHUqcYpEBjMhLbR4KwBpw82soOSPRrRgtUC9yNDHFwR76+4JQwN1xiGEcGvHA3vsEhIBn8TY7tMYIx2rOoKbaugWgUSEqy9NU6nI6SUyK4MIYlB9hGKO3ciLI5BjUb0WBDvip3vwfPWEIJDGw2lFN5hi9Caou97dx/0BN1OqEsJ3U0Yh9HFk12FRnRYpCfxTKYaZSaQ3ygk6zFNEz7C3hveo0w5LscMDTcYzKeCdg6uswFC/wTP85AkCc6HzMXHcZxpEflnvLx8w2azQbA9QHeDix/+LThCMoP7uUR+Y677/xQqYSBohyJlkEx/rXAaH8lCiHle8wwpdXEL04/u2fm9/mqG/C8V9mdrWkOpBlxwhCGBH/iI48gVpYVCFB6wDwh41c4K519O/MoFO2XQtQat0uBUglH58KFoXeeHDyXyi8QlKXAgN2Rn4Xw4/vGhtD60DidvT8fbs92Id37eFLsdwWsBsizhv2Zzzvb7Y1N+A3PxQQWb8NH5AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <picture>\n          <source\n              srcset=\"/static/02625d1a5246e932bea12cdf0e66eee3/8ac56/image.webp 240w,\n/static/02625d1a5246e932bea12cdf0e66eee3/d3be9/image.webp 480w,\n/static/02625d1a5246e932bea12cdf0e66eee3/e46b2/image.webp 960w,\n/static/02625d1a5246e932bea12cdf0e66eee3/3fe5f/image.webp 1106w\"\n              sizes=\"(max-width: 960px) 100vw, 960px\"\n              type=\"image/webp\"\n            />\n          <source\n            srcset=\"/static/02625d1a5246e932bea12cdf0e66eee3/8ff5a/image.png 240w,\n/static/02625d1a5246e932bea12cdf0e66eee3/e85cb/image.png 480w,\n/static/02625d1a5246e932bea12cdf0e66eee3/d9199/image.png 960w,\n/static/02625d1a5246e932bea12cdf0e66eee3/8740f/image.png 1106w\"\n            sizes=\"(max-width: 960px) 100vw, 960px\"\n            type=\"image/png\"\n          />\n          <img\n            class=\"gatsby-resp-image-image\"\n            src=\"/static/02625d1a5246e932bea12cdf0e66eee3/d9199/image.png\"\n            alt=\"image.png\"\n            title=\"image.png\"\n            loading=\"lazy\"\n            decoding=\"async\"\n            style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n          />\n        </picture>\n  </a>\n    </span></p>\n<h3 id=\"1-view\" style=\"position:relative;\"><a href=\"#1-view\" aria-label=\"1 view permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>1) View</h3>\n<ul>\n<li>유저가 바라보는 화면으로 컴포넌트 등 UI 구성 요소</li>\n</ul>\n<h3 id=\"2-action\" style=\"position:relative;\"><a href=\"#2-action\" aria-label=\"2 action permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>2) Action</h3>\n<ul>\n<li>자바스크립트 객체, Store에 입력된 순서와 내용을 재현</li>\n<li>Store에 담긴 데이터를 변형시킬 수 있는 유일한 방법으로 <code class=\"language-text\">store.dispatch</code> 함수의 인자로 담겨 ‘reducer에 store를 어떻게 변경시킬 것인가’에 대한 정보 제공</li>\n<li>action type 속성이 반드시 있는 객체로, reducer에 switch/case문 구현시 사용</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> rootReducer <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span>state<span class=\"token operator\">:</span> AppState <span class=\"token operator\">=</span> initialState<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">action</span><span class=\"token operator\">:</span> LoginActions<span class=\"token punctuation\">)</span><span class=\"token operator\">:</span> <span class=\"token parameter\">AppState</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">switch</span> <span class=\"token punctuation\">(</span>action<span class=\"token punctuation\">.</span>type<span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\t\t<span class=\"token keyword\">case</span> <span class=\"token string\">'액션_타입1'</span> <span class=\"token operator\">:</span>\n\t\t\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>state<span class=\"token punctuation\">}</span> <span class=\"token comment\">// 액션타입 1을 반영한 새로운 상태 반환</span>\n\t\t<span class=\"token keyword\">case</span> <span class=\"token string\">'액션_타입2'</span> <span class=\"token operator\">:</span>\n\t\t\t<span class=\"token keyword\">return</span> <span class=\"token punctuation\">{</span><span class=\"token operator\">...</span>state<span class=\"token punctuation\">}</span> <span class=\"token comment\">// 액션타입 1를 반영한 새로운 상태 반환</span>\n\t\t<span class=\"token punctuation\">}</span>\n\t<span class=\"token keyword\">return</span> state<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3 id=\"3-dispatcher\" style=\"position:relative;\"><a href=\"#3-dispatcher\" aria-label=\"3 dispatcher permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>3) <strong>Dispatcher</strong></h3>\n<ul>\n<li>Action 객체를 Reducer에 보내는 역할을 하는 함수로 <code class=\"language-text\">store.dispatch()</code> 형태로 제공됨.</li>\n<li>기본 dispatch 함수는 반드시 동기적(호출된 순서대로 상태를 변경, 변경된 순서의 내역 관리)으로 처리되어야 하는데,</li>\n<li>만약 비동기 Action이 필요하다면 비동기 처리가 완료된 이후에 Action을 Dispatch 하거나, 미들웨어를 활용해 비동기 처리를 해줘야 함.</li>\n</ul>\n<h3 id=\"4-reducer\" style=\"position:relative;\"><a href=\"#4-reducer\" aria-label=\"4 reducer permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>4) <strong>Reducer</strong></h3>\n<ul>\n<li>Reducer는 <code class=\"language-text\">(previousState, action) => newState</code>의 형태로 이전 상태값과 액션 객체를 입력으로 받아 새로운 상태값 출력</li>\n<li><code class=\"language-text\">업데이트 되기 이전의 Store를 기반으로 새로 받은 Action에 미리 준비된 로직을 처리해 새로운 Store를 리턴하는 함수.</code> 즉, 감지된 Action 타입에 따라 이벤트를 처리하는 ‘이벤트 리스너’로 생각할 수 있음</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// Reducer 함수 의미</span>\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">rootReducer</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token literal-property property\">previousState</span><span class=\"token operator\">:</span> AppState<span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">action</span><span class=\"token operator\">:</span> Action</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token keyword\">const</span> newState <span class=\"token operator\">=</span>\n  <span class=\"token keyword\">return</span> newState\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ul>\n<li>\n<p>구분</p>\n<ul>\n<li><code class=\"language-text\">Root Reducer</code>: <code class=\"language-text\">createStore</code>의 첫 번째 인자로 전달되는 함수로 유일하게 <code class=\"language-text\">(state, action) => newState</code> 형태의 로직 구현\n<ul>\n<li><code class=\"language-text\">Slice Reducer</code>: 상태 트리의 일부분만을 업데이트하는 리듀서로 여러 Slice Reducer들이 결합(<code class=\"language-text\">combineReducers</code>)되어 Root Reducer를 구성하게 됨 (*Linco에서 페이지 기능별 profileSlice, walletSlice 등 사용)</li>\n</ul>\n</li>\n</ul>\n<p><strong>:: 유의사항</strong></p>\n</li>\n<li>\n<p>불변성을 지켜 업데이트 한다.</p>\n<ul>\n<li>기존 값을 직접 수정하지 않고 기존 값을 복사하고 새롭게 복사된 값을 덮어쓰는 방식으로 업데이트 한다.</li>\n</ul>\n</li>\n<li>\n<p>Reducer 내부에서 비동기나 Side Effect를 처리할 수 없다.</p>\n<ul>\n<li>ex. <code class=\"language-text\">Promise(fetch)</code>, <code class=\"language-text\">Math.random()</code>, <code class=\"language-text\">new Date()</code></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"5-store\" style=\"position:relative;\"><a href=\"#5-store\" aria-label=\"5 store permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>5) <strong>Store</strong></h3>\n<ul>\n<li>현재의 앱 상태와, 리듀서가 들어가있고, 추가적으로 몇가지 내장 함수들을 포함함</li>\n<li>store에서 관리되고, <code class=\"language-text\">store.getState()</code>로 읽어올 수 있음</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// src/index.js</span>\n\n<span class=\"token keyword\">import</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">\"react\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> ReactDOM <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-dom\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> Provider <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"react-redux\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> App <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">\"./App\"</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> createStore <span class=\"token keyword\">from</span> <span class=\"token string\">\"./createReduxStore\"</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> store <span class=\"token operator\">=</span> <span class=\"token function\">createStore</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> root <span class=\"token operator\">=</span> ReactDOM<span class=\"token punctuation\">.</span><span class=\"token function\">createRoot</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"root\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nroot<span class=\"token punctuation\">.</span><span class=\"token function\">render</span><span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>Provider store<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>store<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span>App <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Provider<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<h3 id=\"6-middleware\" style=\"position:relative;\"><a href=\"#6-middleware\" aria-label=\"6 middleware permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>6) Middleware</h3>\n<ul>\n<li>비동기 API 호출 등 순수하지 않은 요청(Side Effect)을 처리하거나, Redux Store로 전달되는 Action 등을 로깅하는 장소이며 Reducer가 액션을 처리하기 전에 실행되는 함수.</li>\n<li>대표적인 Middleware로는 redux-logger, redux-thunk, redux-saga 등</li>\n</ul>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token comment\">// redux-thunk</span>\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">thunkMiddleware</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> dispatch<span class=\"token punctuation\">,</span> getState <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">next</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">action</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span>\n    <span class=\"token keyword\">typeof</span> action <span class=\"token operator\">===</span> <span class=\"token string\">\"function\"</span> <span class=\"token operator\">?</span> <span class=\"token function\">action</span><span class=\"token punctuation\">(</span>dispatch<span class=\"token punctuation\">,</span> getState<span class=\"token punctuation\">)</span> <span class=\"token operator\">:</span> <span class=\"token function\">next</span><span class=\"token punctuation\">(</span>action<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2 id=\"코드-구현\" style=\"position:relative;\"><a href=\"#%EC%BD%94%EB%93%9C-%EA%B5%AC%ED%98%84\" aria-label=\"코드 구현 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>코드 구현</h2>\n<p>1.앱 수준 상태 타입 선언</p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\">type user <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> string\n\t<span class=\"token literal-property property\">email</span><span class=\"token operator\">:</span> string\n<span class=\"token punctuation\">}</span>\n\ntype AppState<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>\n\t<span class=\"token literal-property property\">loggedIn</span><span class=\"token operator\">:</span> boolean\n\t<span class=\"token literal-property property\">loggedUser</span><span class=\"token operator\">:</span> User\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ol start=\"2\">\n<li>변수 초기화</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">const</span> <span class=\"token literal-property property\">initialState</span><span class=\"token operator\">:</span> AppState <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n\t<span class=\"token literal-property property\">loggedIn</span><span class=\"token operator\">:</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span>\n\t<span class=\"token literal-property property\">loggedUser</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span><span class=\"token literal-property property\">name</span><span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">,</span> <span class=\"token literal-property property\">email</span><span class=\"token operator\">:</span> <span class=\"token string\">''</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<ol start=\"3\">\n<li>리덕스 구현용 디렉토리 및 필요한 파일 만들기</li>\n</ol>\n<ul>\n<li>store 폴더 안에 index.ts, AppState.ts(타입선언), actions.ts, rootReducer.ts(리듀서 ), makeStore.ts(파일 저장소 생성)</li>\n</ul>","fields":{"slug":"/posts/2022-11-08---언젠가-만나게-될-Redux//posts/언젠가-만나게-될-Redux","tagSlugs":["/tag/redux/","/tag/react/","/tag//"]},"frontmatter":{"date":"2022-08-11T22:40:32.169Z","description":"React 상태관리를 위한 Redux를 알아보자","tags":["redux","React","상태관리"],"title":"언젠가 만나게 될 Redux","socialImage":{"publicURL":"/static/02625d1a5246e932bea12cdf0e66eee3/image.png"}}}},"pageContext":{"slug":"/posts/2022-11-08---언젠가-만나게-될-Redux//posts/언젠가-만나게-될-Redux"}},"staticQueryHashes":["250566491","251939775","401334301"]}